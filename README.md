[TOC] 
# 1.理解SOA
## 1.1 SOA介绍
```
   SOA是一个组件模型,它将应用程序的不同功能单元(称为服务)通过这些服务之间定义良好的接口和契约联系起来.
```
## 1.2 SOA结构图
![](http://chuantu.biz/t6/223/1517909751x-1404755486.jpg)

- 应用程序前端: 业务流程的所有者,应用层: APP,WEB等;
- 服务库: 管理多个SOA服务(Dubbo的Provider和Consumer)
- 服务总线:SOA服务的调度(Dubbo的Register和Container)
- 合约:服务实现功能的协议和约束;
- 实现:服务业务的基础结构,包括业务逻辑和数据逻辑,对接口功能的实现;
- 接口:对外公开的功能;
```
举个栗子: 咱们平台服务包括: 订单服务,商品服务等等;
Dubbo+SOA的体现：
1) Dubbo框架将这些服务需要进行注册,进行统一的暴露和监控;
2)在这个大项目中,每一个子项目（子服务）都是SOA模型;
3)由应用程序前端的服务进行消费;
以订单服务为例,订单提供下单接口,参数和实现;服务在启动的时候,Dubbo框架会加载服务并注册至注册中心，并将接口暴露给消费者; 
```
# 2. Dubbo介绍
## 2.1 Dubbo入门:
### 2.1.1 Dubbo 是什么
``` 
  先给大家描述一个大致的情景：
      集群是在不同的机器上部署同一个项目,用来"负载均衡"以及"失效备援",那么它们到底是如何或者说通过什么来实现上述两点的?
      分布在各个机器上的项目的地址是怎么分配的呢?是通过谁来分配的?
  Dubbo在分布式系统中是做什么用的?
      Java下RPC[Remote Procedure Call]框架作用就是统一管理配置各个系统服务间的调用.
      原理就是:A系统调用B系统接口服务,它在背后怎么把这个流程 动态化(凭借zookeeper通知),权限化,配置化,低耦合化,自动化.
```
### 2.1.2 为什么要用Dubbo
  **服务越来越多造成的问题:** 
-  当服务越来越多时,服务的URL地址信息就会极速增长,配置管理变得非常困难,F5硬件负载均衡器的单点压力也越来越大.
- 当进一步发展,服务间依赖关系变得错踪复杂,甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系.
-  接着，服务的调用量越来越大，服务的容量问题就暴露出来，这个服务需要多少机器支撑？什么时候该加机器？</br>
  **Dubbo解决问题的手段:**
- 服务注册中心,动态的注册和发现服务,使用服务透明,避免了大量的URL;
- 消费方通过服务方提供的地址列表,实现负载均衡和FailOver;
- 统计服务的调用量,响应时间,会做统计作为权重调整,机器数量规划的参考指标;


# 3.SpringBoot整合Dubbo
## 3.1 项目改造
### 3.1.1 模块拆分
- **模块拆分** : 根据HMT项目的先例,我们把项目尝试拆分为:

| 模块ID      |    模块名| 作用         |  模块类型| 模块依赖     |
| :--------   | --------:| :--:         | :--:     |   :--:       |
| 1           |    root  |  项目根      |   pom    |   2,3,4,5,6  |
| 2           |    bean  |  实体类      |   jar    |    NULL      |
| 3           |    dao   |  mapper      |   jar    |    2         |
| 4           |  dubbo   |  service接口 |   jar    |    2         |
| 5           |  service |  service实现 |   jar    |   2,3,4      |
| 6           |  web     |  API         |   war    |   2,4        |
### 3.1.2 项目拆分图
- **实际拆分图** :</br>
![](http://chuantu.biz/t6/222/1517885738x-1404755564.jpg)
### 3.1.3 模板项目地址
地址: [SHOPIN-SOA](https://github.com/553899811/SHOPIN-SOA)

## 3.2.配置信息
### 3.2.1 
```
  
```
